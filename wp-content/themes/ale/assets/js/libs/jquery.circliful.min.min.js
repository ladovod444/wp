(function(b){b.fn.circliful=function(a){var d=b.extend({fgcolor:"#556b2f",bgcolor:"#eee",fill:false,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default"},a);return this.each(function(){var J=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border"];var ae={};var N="";var X=0;var P=b(this);var x=false;var L,K;P.addClass("circliful");af(P);if(P.data("text")!=undefined){L=P.data("text");if(P.data("icon")!=undefined){N=b("<i></i>").addClass("fa "+b(this).data("icon")).css({color:ae.iconcolor,"font-size":ae.iconsize})}if(P.data("type")!=undefined){aa=b(this).data("type");if(aa=="half"){R(P,"circle-text-half",(ae.dimension/1.45))}else{R(P,"circle-text",ae.dimension)}}else{R(P,"circle-text",ae.dimension)}}if(b(this).data("total")!=undefined&&b(this).data("part")!=undefined){var H=b(this).data("total")/100;percent=((b(this).data("part")/H)/100).toFixed(3);X=(b(this).data("part")/H).toFixed(3)}else{if(b(this).data("percent")!=undefined){percent=b(this).data("percent")/100;X=b(this).data("percent")}else{percent=d.percent/100}}if(b(this).data("info")!=undefined){K=b(this).data("info");if(b(this).data("type")!=undefined){aa=b(this).data("type");if(aa=="half"){Q(P,0.9)}else{Q(P,1.25)}}else{Q(P,1.25)}}b(this).width(ae.dimension+"px");var ab=b("<canvas></canvas>").attr({width:ae.dimension,height:ae.dimension}).appendTo(b(this)).get(0);var ad=ab.getContext("2d");var T=ab.width/2;var U=ab.height/2;var S=ae.percent*360;var I=S*(Math.PI/180);var Z=ab.width/2.5;var c=2.3*Math.PI;var y=0;var O=false;var W=ae.animationstep===0?X:0;var V=Math.max(ae.animationstep,0);var M=Math.PI*2;var ac=Math.PI/2;var aa="";if(b(this).data("type")!=undefined){aa=b(this).data("type");if(aa=="half"){var c=2*Math.PI;var y=3.13;var M=Math.PI*1;var ac=Math.PI/0.996}}function R(f,e,g){b("<span></span>").appendTo(f).addClass(e).text(L).prepend(N).css({"line-height":g+"px","font-size":ae.fontsize+"px"})}function Q(f,e){b("<span></span>").appendTo(f).addClass("circle-info-half").css("line-height",(ae.dimension*e)+"px")}function af(e){b.each(J,function(g,f){if(e.data(f)!=undefined){ae[f]=e.data(f)}else{ae[f]=b(d).attr(f)}if(f=="fill"&&e.data("fill")!=undefined){x=true}})}function Y(e){ad.clearRect(0,0,ab.width,ab.height);ad.beginPath();ad.arc(T,U,Z,y,c,false);ad.lineWidth=ae.width+1;ad.strokeStyle=ae.bgcolor;ad.stroke();if(x){ad.fillStyle=ae.fill;ad.fill()}ad.beginPath();ad.arc(T,U,Z,-(ac),((M)*e)-ac,false);if(ae.border=="outline"){ad.lineWidth=ae.width+13}else{if(ae.border=="inline"){ad.lineWidth=ae.width-13}}ad.strokeStyle=ae.fgcolor;ad.stroke();if(W<X){W+=V;requestAnimationFrame(function(){Y(Math.min(W,X)/100)},P)}}Y(W/100)})}}(jQuery));